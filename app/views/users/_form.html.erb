<%= form_with(model: user) do |form| %>

  <div class="flash-msg hide"><%= render 'layouts/error_messages', object: form.object %></div>

  <div class="form-group mb-2">
    <%= form.label :nome %>
    <%= form.text_field :nome, class: "form-control" %>
  </div>

  <div class="form-group mb-2">
    <%= form.label :tipo %>
    <%= form.select :tipo,[["ADMINISTRADOR"], ["FUNCIONÁRIO"], ["FUNCIONÁRIO COM ACESSO"]],{}, class: "form-control" %>
  </div>

  <div class="form-group mb-2 div-senha">
    <%= form.label :password, 'Senha' %>
    <%= form.password_field :password, class: "form-control"  %>
  </div>

  <div class="form-group mb-2 div-senha">
    <%= form.label :password_confirmation, 'Confirme a senha' %>
    <%= form.password_field :password_confirmation, class: "form-control"  %>
  </div>

  <div class="form-group mt-4">
    <%= form.submit "Salvar", class: "btn btn-primary me-2" %>
    <%= link_to "Voltar", users_path, class: "btn btn-primary active" %>
  </div>

<% end %>

<script>
  $(document).ready(function(){
  $("#user_tipo").change(function(){
    if($("#user_tipo").val() == "FUNCIONÁRIO"){
      $("#user_password").val("carro!!28") 
      $("#user_password_confirmation").val("carro!!28")
      $(".div-senha").hide() 
    }else{
      $("#user_password").val("") 
      $("#user_password_confirmation").val("")
      $(".div-senha").show() 
    }
  })
  })
</script>